<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 380">
  <defs>
    <marker id="arrow" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <path d="M0,0 L0,6 L9,3 z" fill="#888"/>
    </marker>
  </defs>

  <!-- Background -->
  <rect width="800" height="380" fill="#1a1a2e"/>

  <!-- Title -->
  <text x="400" y="35" text-anchor="middle" fill="#ffffff" font-family="Arial, sans-serif" font-size="20" font-weight="bold">Classifier-Free Guidance (CFG)</text>

  <!-- Analogy Box -->
  <rect x="50" y="50" width="700" height="40" fill="#2c3e50" rx="5" stroke="#f39c12" stroke-width="1"/>
  <text x="400" y="75" text-anchor="middle" fill="#f39c12" font-family="Arial, sans-serif" font-size="12">
    비유: "고양이 그려줘" → 무조건부: 아무 그림 / 조건부: 고양이 / CFG: 더 고양이스러운 고양이!
  </text>

  <!-- Left: Unconditional -->
  <g transform="translate(50, 110)">
    <rect x="0" y="0" width="200" height="100" fill="#2c3e50" rx="8" stroke="#e74c3c" stroke-width="2"/>
    <text x="100" y="25" text-anchor="middle" fill="#e74c3c" font-family="Arial, sans-serif" font-size="14" font-weight="bold">무조건부 예측</text>
    <text x="100" y="50" text-anchor="middle" fill="#fff" font-family="Arial, sans-serif" font-size="12">ε(z_t, t, ∅)</text>
    <text x="100" y="75" text-anchor="middle" fill="#888" font-family="Arial, sans-serif" font-size="10">프롬프트 없이</text>
    <text x="100" y="92" text-anchor="middle" fill="#888" font-family="Arial, sans-serif" font-size="10">"아무 이미지"</text>
  </g>

  <!-- Right: Conditional -->
  <g transform="translate(550, 110)">
    <rect x="0" y="0" width="200" height="100" fill="#2c3e50" rx="8" stroke="#3498db" stroke-width="2"/>
    <text x="100" y="25" text-anchor="middle" fill="#3498db" font-family="Arial, sans-serif" font-size="14" font-weight="bold">조건부 예측</text>
    <text x="100" y="50" text-anchor="middle" fill="#fff" font-family="Arial, sans-serif" font-size="12">ε(z_t, t, c)</text>
    <text x="100" y="75" text-anchor="middle" fill="#888" font-family="Arial, sans-serif" font-size="10">프롬프트와 함께</text>
    <text x="100" y="92" text-anchor="middle" fill="#888" font-family="Arial, sans-serif" font-size="10">"고양이 이미지"</text>
  </g>

  <!-- Center: Combining -->
  <g transform="translate(300, 115)">
    <circle cx="100" cy="45" r="35" fill="#9b59b6" opacity="0.8"/>
    <text x="100" y="42" text-anchor="middle" fill="#fff" font-family="Arial, sans-serif" font-size="12">CFG</text>
    <text x="100" y="58" text-anchor="middle" fill="#fff" font-family="Arial, sans-serif" font-size="10">결합</text>
  </g>

  <!-- Arrows to center -->
  <path d="M 250 160 L 275 160" stroke="#e74c3c" stroke-width="2" marker-end="url(#arrow)"/>
  <path d="M 550 160 L 525 160" stroke="#3498db" stroke-width="2" marker-end="url(#arrow)"/>

  <!-- Formula Box -->
  <g transform="translate(100, 230)">
    <rect x="0" y="0" width="600" height="60" fill="#2c3e50" rx="8"/>
    <text x="300" y="25" text-anchor="middle" fill="#f39c12" font-family="monospace" font-size="14">ε_cfg = ε(z_t, t, ∅) + s × [ ε(z_t, t, c) - ε(z_t, t, ∅) ]</text>
    <text x="300" y="48" text-anchor="middle" fill="#888" font-family="Arial, sans-serif" font-size="11">s = guidance scale (보통 7.5) | 높을수록 프롬프트에 충실</text>
  </g>

  <!-- Scale comparison -->
  <g transform="translate(50, 310)">
    <text x="0" y="15" fill="#fff" font-family="Arial, sans-serif" font-size="12" font-weight="bold">s 값에 따른 결과:</text>

    <!-- s=1 -->
    <rect x="120" y="0" width="80" height="50" fill="#555" rx="3"/>
    <text x="160" y="25" text-anchor="middle" fill="#fff" font-family="Arial, sans-serif" font-size="11">s = 1</text>
    <text x="160" y="42" text-anchor="middle" fill="#888" font-family="Arial, sans-serif" font-size="9">순수 조건부</text>

    <!-- s=7.5 -->
    <rect x="220" y="0" width="80" height="50" fill="#27ae60" rx="3"/>
    <text x="260" y="25" text-anchor="middle" fill="#fff" font-family="Arial, sans-serif" font-size="11">s = 7.5</text>
    <text x="260" y="42" text-anchor="middle" fill="#fff" font-family="Arial, sans-serif" font-size="9">권장값</text>

    <!-- s=15 -->
    <rect x="320" y="0" width="80" height="50" fill="#e67e22" rx="3"/>
    <text x="360" y="25" text-anchor="middle" fill="#fff" font-family="Arial, sans-serif" font-size="11">s = 15</text>
    <text x="360" y="42" text-anchor="middle" fill="#888" font-family="Arial, sans-serif" font-size="9">강한 조건</text>

    <!-- s=30 -->
    <rect x="420" y="0" width="80" height="50" fill="#c0392b" rx="3"/>
    <text x="460" y="25" text-anchor="middle" fill="#fff" font-family="Arial, sans-serif" font-size="11">s = 30</text>
    <text x="460" y="42" text-anchor="middle" fill="#888" font-family="Arial, sans-serif" font-size="9">과적합</text>

    <!-- Trade-off -->
    <text x="540" y="18" fill="#888" font-family="Arial, sans-serif" font-size="10">↑ 프롬프트 충실도</text>
    <text x="540" y="35" fill="#888" font-family="Arial, sans-serif" font-size="10">↓ 다양성/품질</text>
  </g>
</svg>