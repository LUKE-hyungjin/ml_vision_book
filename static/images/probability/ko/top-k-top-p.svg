<svg width="700" height="350" xmlns="http://www.w3.org/2000/svg">
  <!-- Background -->
  <rect width="700" height="350" fill="#f8f9fa"/>

  <!-- Title -->
  <text x="350" y="25" text-anchor="middle" font-family="system-ui, sans-serif" font-size="18" font-weight="bold" fill="#333">
    Top-k vs Top-p (Nucleus) 샘플링
  </text>

  <!-- Case 1: Peaked distribution -->
  <g transform="translate(30, 50)">
    <text x="155" y="15" text-anchor="middle" font-family="system-ui, sans-serif" font-size="13" font-weight="bold" fill="#333">
      Case 1: 뾰족한 분포 (모델이 확신)
    </text>

    <!-- Bar chart -->
    <g transform="translate(0, 30)">
      <!-- Bars -->
      <rect x="30" y="20" width="40" height="100" fill="#3498db" opacity="0.9"/>
      <rect x="80" y="80" width="40" height="40" fill="#3498db" opacity="0.9"/>
      <rect x="130" y="100" width="40" height="20" fill="#3498db" opacity="0.7"/>
      <rect x="180" y="110" width="40" height="10" fill="#bdc3c7" opacity="0.5"/>
      <rect x="230" y="115" width="40" height="5" fill="#bdc3c7" opacity="0.5"/>

      <!-- Axis -->
      <line x1="20" y1="120" x2="290" y2="120" stroke="#333" stroke-width="1"/>

      <!-- Labels -->
      <text x="50" y="135" text-anchor="middle" font-family="monospace" font-size="9" fill="#666">A</text>
      <text x="100" y="135" text-anchor="middle" font-family="monospace" font-size="9" fill="#666">B</text>
      <text x="150" y="135" text-anchor="middle" font-family="monospace" font-size="9" fill="#666">C</text>
      <text x="200" y="135" text-anchor="middle" font-family="monospace" font-size="9" fill="#666">D</text>
      <text x="250" y="135" text-anchor="middle" font-family="monospace" font-size="9" fill="#666">E</text>

      <!-- Probabilities -->
      <text x="50" y="15" text-anchor="middle" font-family="monospace" font-size="9" fill="#333">0.6</text>
      <text x="100" y="75" text-anchor="middle" font-family="monospace" font-size="9" fill="#333">0.25</text>
      <text x="150" y="95" text-anchor="middle" font-family="monospace" font-size="9" fill="#333">0.1</text>
    </g>

    <!-- Top-k annotation -->
    <rect x="25" y="155" width="125" height="55" fill="#fff3cd" stroke="#f39c12" stroke-width="1" rx="5"/>
    <text x="87" y="172" text-anchor="middle" font-family="system-ui, sans-serif" font-size="11" font-weight="bold" fill="#d68910">Top-k (k=3)</text>
    <text x="87" y="188" text-anchor="middle" font-family="system-ui, sans-serif" font-size="10" fill="#666">고정 3개 선택</text>
    <text x="87" y="203" text-anchor="middle" font-family="monospace" font-size="9" fill="#333">A, B, C</text>

    <!-- Top-p annotation -->
    <rect x="160" y="155" width="125" height="55" fill="#e8f8f5" stroke="#27ae60" stroke-width="1" rx="5"/>
    <text x="222" y="172" text-anchor="middle" font-family="system-ui, sans-serif" font-size="11" font-weight="bold" fill="#27ae60">Top-p (p=0.9)</text>
    <text x="222" y="188" text-anchor="middle" font-family="system-ui, sans-serif" font-size="10" fill="#666">누적 90%까지</text>
    <text x="222" y="203" text-anchor="middle" font-family="monospace" font-size="9" fill="#333">A, B (0.85)</text>
  </g>

  <!-- Case 2: Flat distribution -->
  <g transform="translate(370, 50)">
    <text x="155" y="15" text-anchor="middle" font-family="system-ui, sans-serif" font-size="13" font-weight="bold" fill="#333">
      Case 2: 평평한 분포 (모델이 불확실)
    </text>

    <!-- Bar chart -->
    <g transform="translate(0, 30)">
      <!-- Bars -->
      <rect x="30" y="60" width="40" height="60" fill="#e74c3c" opacity="0.9"/>
      <rect x="80" y="65" width="40" height="55" fill="#e74c3c" opacity="0.9"/>
      <rect x="130" y="70" width="40" height="50" fill="#e74c3c" opacity="0.9"/>
      <rect x="180" y="80" width="40" height="40" fill="#e74c3c" opacity="0.7"/>
      <rect x="230" y="90" width="40" height="30" fill="#bdc3c7" opacity="0.5"/>

      <!-- Axis -->
      <line x1="20" y1="120" x2="290" y2="120" stroke="#333" stroke-width="1"/>

      <!-- Labels -->
      <text x="50" y="135" text-anchor="middle" font-family="monospace" font-size="9" fill="#666">A</text>
      <text x="100" y="135" text-anchor="middle" font-family="monospace" font-size="9" fill="#666">B</text>
      <text x="150" y="135" text-anchor="middle" font-family="monospace" font-size="9" fill="#666">C</text>
      <text x="200" y="135" text-anchor="middle" font-family="monospace" font-size="9" fill="#666">D</text>
      <text x="250" y="135" text-anchor="middle" font-family="monospace" font-size="9" fill="#666">E</text>

      <!-- Probabilities -->
      <text x="50" y="55" text-anchor="middle" font-family="monospace" font-size="9" fill="#333">0.28</text>
      <text x="100" y="60" text-anchor="middle" font-family="monospace" font-size="9" fill="#333">0.26</text>
      <text x="150" y="65" text-anchor="middle" font-family="monospace" font-size="9" fill="#333">0.22</text>
      <text x="200" y="75" text-anchor="middle" font-family="monospace" font-size="9" fill="#333">0.15</text>
    </g>

    <!-- Top-k annotation -->
    <rect x="25" y="155" width="125" height="55" fill="#fff3cd" stroke="#f39c12" stroke-width="1" rx="5"/>
    <text x="87" y="172" text-anchor="middle" font-family="system-ui, sans-serif" font-size="11" font-weight="bold" fill="#d68910">Top-k (k=3)</text>
    <text x="87" y="188" text-anchor="middle" font-family="system-ui, sans-serif" font-size="10" fill="#666">고정 3개만</text>
    <text x="87" y="203" text-anchor="middle" font-family="monospace" font-size="9" fill="#333">A, B, C (0.76)</text>

    <!-- Top-p annotation -->
    <rect x="160" y="155" width="125" height="55" fill="#e8f8f5" stroke="#27ae60" stroke-width="1" rx="5"/>
    <text x="222" y="172" text-anchor="middle" font-family="system-ui, sans-serif" font-size="11" font-weight="bold" fill="#27ae60">Top-p (p=0.9)</text>
    <text x="222" y="188" text-anchor="middle" font-family="system-ui, sans-serif" font-size="10" fill="#666">4개까지 확장!</text>
    <text x="222" y="203" text-anchor="middle" font-family="monospace" font-size="9" fill="#333">A, B, C, D (0.91)</text>
  </g>

  <!-- Summary Box -->
  <rect x="50" y="270" width="600" height="70" fill="#fff" stroke="#3498db" stroke-width="2" rx="8"/>

  <text x="350" y="293" text-anchor="middle" font-family="system-ui, sans-serif" font-size="13" font-weight="bold" fill="#333">
    핵심 차이
  </text>

  <g transform="translate(80, 305)">
    <rect x="0" y="0" width="12" height="12" fill="#f39c12"/>
    <text x="20" y="11" font-family="system-ui, sans-serif" font-size="11" fill="#333">
      Top-k: 항상 k개 (고정) → 분포와 무관하게 동일 개수
    </text>
  </g>

  <g transform="translate(80, 322)">
    <rect x="0" y="0" width="12" height="12" fill="#27ae60"/>
    <text x="20" y="11" font-family="system-ui, sans-serif" font-size="11" fill="#333">
      Top-p: 분포에 따라 적응 → 확신하면 적게, 불확실하면 많이
    </text>
  </g>
</svg>
