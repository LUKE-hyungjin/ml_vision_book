<svg width="600" height="300" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <linearGradient id="grad1" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#ff6b6b;stop-opacity:0.7" />
      <stop offset="100%" style="stop-color:#ff6b6b;stop-opacity:0.4" />
    </linearGradient>
    <linearGradient id="grad2" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#4ecdc4;stop-opacity:0.7" />
      <stop offset="100%" style="stop-color:#4ecdc4;stop-opacity:0.4" />
    </linearGradient>
    <linearGradient id="grad3" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#95e1d3;stop-opacity:0.7" />
      <stop offset="100%" style="stop-color:#95e1d3;stop-opacity:0.4" />
    </linearGradient>
  </defs>

  <!-- Background -->
  <rect width="600" height="300" fill="#f8f9fa"/>

  <!-- Title -->
  <text x="300" y="30" text-anchor="middle" font-family="system-ui, sans-serif" font-size="18" font-weight="bold" fill="#333">
    전확률 법칙 (Law of Total Probability)
  </text>

  <!-- Sample Space Rectangle -->
  <rect x="50" y="60" width="250" height="180" fill="none" stroke="#333" stroke-width="2" rx="5"/>
  <text x="175" y="80" text-anchor="middle" font-family="system-ui, sans-serif" font-size="14" fill="#666">표본 공간 Ω</text>

  <!-- Partitions A1, A2, A3 -->
  <rect x="55" y="90" width="80" height="140" fill="url(#grad1)" stroke="#ff6b6b" stroke-width="1.5"/>
  <text x="95" y="165" text-anchor="middle" font-family="system-ui, sans-serif" font-size="16" font-weight="bold" fill="#c92a2a">A₁</text>

  <rect x="135" y="90" width="80" height="140" fill="url(#grad2)" stroke="#4ecdc4" stroke-width="1.5"/>
  <text x="175" y="165" text-anchor="middle" font-family="system-ui, sans-serif" font-size="16" font-weight="bold" fill="#0c8599">A₂</text>

  <rect x="215" y="90" width="80" height="140" fill="url(#grad3)" stroke="#95e1d3" stroke-width="1.5"/>
  <text x="255" y="165" text-anchor="middle" font-family="system-ui, sans-serif" font-size="16" font-weight="bold" fill="#087f5b">A₃</text>

  <!-- Event B (circle spanning partitions) -->
  <ellipse cx="175" cy="165" rx="70" ry="50" fill="rgba(255,193,7,0.4)" stroke="#ffc107" stroke-width="2"/>
  <text x="175" y="130" text-anchor="middle" font-family="system-ui, sans-serif" font-size="18" font-weight="bold" fill="#e67700">B</text>

  <!-- Formula Section -->
  <g transform="translate(330, 90)">
    <text x="0" y="0" font-family="Times New Roman, serif" font-size="16" fill="#333">
      <tspan font-weight="bold">P(B) = </tspan>
    </text>

    <text x="0" y="30" font-family="Times New Roman, serif" font-size="14" fill="#c92a2a">
      P(B|A₁)·P(A₁)
    </text>
    <text x="0" y="55" font-family="Times New Roman, serif" font-size="14" fill="#0c8599">
      + P(B|A₂)·P(A₂)
    </text>
    <text x="0" y="80" font-family="Times New Roman, serif" font-size="14" fill="#087f5b">
      + P(B|A₃)·P(A₃)
    </text>

    <line x1="0" y1="95" x2="150" y2="95" stroke="#666" stroke-width="1"/>

    <text x="0" y="120" font-family="Times New Roman, serif" font-size="13" fill="#666">
      = Σᵢ P(B|Aᵢ)·P(Aᵢ)
    </text>
  </g>

  <!-- Arrow annotations -->
  <g font-family="system-ui, sans-serif" font-size="11" fill="#666">
    <text x="95" y="250">B∩A₁</text>
    <text x="175" y="250">B∩A₂</text>
    <text x="255" y="250">B∩A₃</text>
  </g>
</svg>
