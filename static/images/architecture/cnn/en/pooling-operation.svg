<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 380">
  <defs>
    <linearGradient id="pool1" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#e74c3c;stop-opacity:0.4" />
      <stop offset="100%" style="stop-color:#c0392b;stop-opacity:0.4" />
    </linearGradient>
    <linearGradient id="pool2" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#3498db;stop-opacity:0.4" />
      <stop offset="100%" style="stop-color:#2980b9;stop-opacity:0.4" />
    </linearGradient>
    <linearGradient id="pool3" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#2ecc71;stop-opacity:0.4" />
      <stop offset="100%" style="stop-color:#27ae60;stop-opacity:0.4" />
    </linearGradient>
    <linearGradient id="pool4" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#f39c12;stop-opacity:0.4" />
      <stop offset="100%" style="stop-color:#d35400;stop-opacity:0.4" />
    </linearGradient>
  </defs>

  <!-- Background -->
  <rect width="800" height="380" fill="#1a1a2e"/>

  <!-- Title -->
  <text x="400" y="30" text-anchor="middle" fill="#ffffff" font-family="Arial, sans-serif" font-size="18" font-weight="bold">Pooling Operations (2x2, Stride 2)</text>

  <!-- ===== MAX POOLING ===== -->
  <text x="200" y="60" text-anchor="middle" fill="#e74c3c" font-family="Arial, sans-serif" font-size="16" font-weight="bold">Max Pooling</text>

  <!-- Input Matrix (4x4) -->
  <g transform="translate(50, 80)">
    <rect x="0" y="0" width="160" height="160" fill="#2c3e50" stroke="#34495e" stroke-width="2" rx="3"/>

    <!-- Grid lines -->
    <line x1="40" y1="0" x2="40" y2="160" stroke="#34495e" stroke-width="1"/>
    <line x1="80" y1="0" x2="80" y2="160" stroke="#34495e" stroke-width="1"/>
    <line x1="120" y1="0" x2="120" y2="160" stroke="#34495e" stroke-width="1"/>
    <line x1="0" y1="40" x2="160" y2="40" stroke="#34495e" stroke-width="1"/>
    <line x1="0" y1="80" x2="160" y2="80" stroke="#34495e" stroke-width="1"/>
    <line x1="0" y1="120" x2="160" y2="120" stroke="#34495e" stroke-width="1"/>

    <!-- Colored regions -->
    <rect x="0" y="0" width="80" height="80" fill="url(#pool1)" stroke="#e74c3c" stroke-width="2"/>
    <rect x="80" y="0" width="80" height="80" fill="url(#pool2)" stroke="#3498db" stroke-width="2"/>
    <rect x="0" y="80" width="80" height="80" fill="url(#pool3)" stroke="#2ecc71" stroke-width="2"/>
    <rect x="80" y="80" width="80" height="80" fill="url(#pool4)" stroke="#f39c12" stroke-width="2"/>

    <!-- Values with max highlighted -->
    <text x="20" y="28" text-anchor="middle" fill="#fff" font-family="monospace" font-size="13">1</text>
    <text x="60" y="28" text-anchor="middle" fill="#e74c3c" font-family="monospace" font-size="13" font-weight="bold">3</text>
    <text x="100" y="28" text-anchor="middle" fill="#fff" font-family="monospace" font-size="13">2</text>
    <text x="140" y="28" text-anchor="middle" fill="#3498db" font-family="monospace" font-size="13" font-weight="bold">4</text>

    <text x="20" y="68" text-anchor="middle" fill="#fff" font-family="monospace" font-size="13">2</text>
    <text x="60" y="68" text-anchor="middle" fill="#fff" font-family="monospace" font-size="13">1</text>
    <text x="100" y="68" text-anchor="middle" fill="#fff" font-family="monospace" font-size="13">3</text>
    <text x="140" y="68" text-anchor="middle" fill="#fff" font-family="monospace" font-size="13">1</text>

    <text x="20" y="108" text-anchor="middle" fill="#fff" font-family="monospace" font-size="13">1</text>
    <text x="60" y="108" text-anchor="middle" fill="#2ecc71" font-family="monospace" font-size="13" font-weight="bold">5</text>
    <text x="100" y="108" text-anchor="middle" fill="#f39c12" font-family="monospace" font-size="13" font-weight="bold">6</text>
    <text x="140" y="108" text-anchor="middle" fill="#fff" font-family="monospace" font-size="13">2</text>

    <text x="20" y="148" text-anchor="middle" fill="#fff" font-family="monospace" font-size="13">3</text>
    <text x="60" y="148" text-anchor="middle" fill="#fff" font-family="monospace" font-size="13">2</text>
    <text x="100" y="148" text-anchor="middle" fill="#fff" font-family="monospace" font-size="13">1</text>
    <text x="140" y="148" text-anchor="middle" fill="#fff" font-family="monospace" font-size="13">4</text>
  </g>

  <!-- Arrow -->
  <text x="235" y="165" fill="#888" font-family="Arial, sans-serif" font-size="24">→</text>

  <!-- Output Matrix (2x2) -->
  <g transform="translate(270, 115)">
    <rect x="0" y="0" width="80" height="80" fill="#2c3e50" stroke="#34495e" stroke-width="2" rx="3"/>

    <line x1="40" y1="0" x2="40" y2="80" stroke="#34495e" stroke-width="1"/>
    <line x1="0" y1="40" x2="80" y2="40" stroke="#34495e" stroke-width="1"/>

    <rect x="0" y="0" width="40" height="40" fill="url(#pool1)"/>
    <rect x="40" y="0" width="40" height="40" fill="url(#pool2)"/>
    <rect x="0" y="40" width="40" height="40" fill="url(#pool3)"/>
    <rect x="40" y="40" width="40" height="40" fill="url(#pool4)"/>

    <text x="20" y="27" text-anchor="middle" fill="#e74c3c" font-family="monospace" font-size="14" font-weight="bold">3</text>
    <text x="60" y="27" text-anchor="middle" fill="#3498db" font-family="monospace" font-size="14" font-weight="bold">4</text>
    <text x="20" y="67" text-anchor="middle" fill="#2ecc71" font-family="monospace" font-size="14" font-weight="bold">5</text>
    <text x="60" y="67" text-anchor="middle" fill="#f39c12" font-family="monospace" font-size="14" font-weight="bold">6</text>
  </g>

  <text x="200" y="275" text-anchor="middle" fill="#aaa" font-family="Arial, sans-serif" font-size="11">Takes maximum value from each region</text>

  <!-- ===== AVERAGE POOLING ===== -->
  <text x="600" y="60" text-anchor="middle" fill="#9b59b6" font-family="Arial, sans-serif" font-size="16" font-weight="bold">Average Pooling</text>

  <!-- Input Matrix (4x4) -->
  <g transform="translate(450, 80)">
    <rect x="0" y="0" width="160" height="160" fill="#2c3e50" stroke="#34495e" stroke-width="2" rx="3"/>

    <line x1="40" y1="0" x2="40" y2="160" stroke="#34495e" stroke-width="1"/>
    <line x1="80" y1="0" x2="80" y2="160" stroke="#34495e" stroke-width="1"/>
    <line x1="120" y1="0" x2="120" y2="160" stroke="#34495e" stroke-width="1"/>
    <line x1="0" y1="40" x2="160" y2="40" stroke="#34495e" stroke-width="1"/>
    <line x1="0" y1="80" x2="160" y2="80" stroke="#34495e" stroke-width="1"/>
    <line x1="0" y1="120" x2="160" y2="120" stroke="#34495e" stroke-width="1"/>

    <rect x="0" y="0" width="80" height="80" fill="url(#pool1)" stroke="#e74c3c" stroke-width="2"/>
    <rect x="80" y="0" width="80" height="80" fill="url(#pool2)" stroke="#3498db" stroke-width="2"/>
    <rect x="0" y="80" width="80" height="80" fill="url(#pool3)" stroke="#2ecc71" stroke-width="2"/>
    <rect x="80" y="80" width="80" height="80" fill="url(#pool4)" stroke="#f39c12" stroke-width="2"/>

    <text x="20" y="28" text-anchor="middle" fill="#fff" font-family="monospace" font-size="13">1</text>
    <text x="60" y="28" text-anchor="middle" fill="#fff" font-family="monospace" font-size="13">3</text>
    <text x="100" y="28" text-anchor="middle" fill="#fff" font-family="monospace" font-size="13">2</text>
    <text x="140" y="28" text-anchor="middle" fill="#fff" font-family="monospace" font-size="13">4</text>

    <text x="20" y="68" text-anchor="middle" fill="#fff" font-family="monospace" font-size="13">2</text>
    <text x="60" y="68" text-anchor="middle" fill="#fff" font-family="monospace" font-size="13">1</text>
    <text x="100" y="68" text-anchor="middle" fill="#fff" font-family="monospace" font-size="13">3</text>
    <text x="140" y="68" text-anchor="middle" fill="#fff" font-family="monospace" font-size="13">1</text>

    <text x="20" y="108" text-anchor="middle" fill="#fff" font-family="monospace" font-size="13">1</text>
    <text x="60" y="108" text-anchor="middle" fill="#fff" font-family="monospace" font-size="13">5</text>
    <text x="100" y="108" text-anchor="middle" fill="#fff" font-family="monospace" font-size="13">6</text>
    <text x="140" y="108" text-anchor="middle" fill="#fff" font-family="monospace" font-size="13">2</text>

    <text x="20" y="148" text-anchor="middle" fill="#fff" font-family="monospace" font-size="13">3</text>
    <text x="60" y="148" text-anchor="middle" fill="#fff" font-family="monospace" font-size="13">2</text>
    <text x="100" y="148" text-anchor="middle" fill="#fff" font-family="monospace" font-size="13">1</text>
    <text x="140" y="148" text-anchor="middle" fill="#fff" font-family="monospace" font-size="13">4</text>
  </g>

  <!-- Arrow -->
  <text x="635" y="165" fill="#888" font-family="Arial, sans-serif" font-size="24">→</text>

  <!-- Output Matrix (2x2) -->
  <g transform="translate(670, 115)">
    <rect x="0" y="0" width="80" height="80" fill="#2c3e50" stroke="#34495e" stroke-width="2" rx="3"/>

    <line x1="40" y1="0" x2="40" y2="80" stroke="#34495e" stroke-width="1"/>
    <line x1="0" y1="40" x2="80" y2="40" stroke="#34495e" stroke-width="1"/>

    <rect x="0" y="0" width="40" height="40" fill="url(#pool1)"/>
    <rect x="40" y="0" width="40" height="40" fill="url(#pool2)"/>
    <rect x="0" y="40" width="40" height="40" fill="url(#pool3)"/>
    <rect x="40" y="40" width="40" height="40" fill="url(#pool4)"/>

    <text x="20" y="27" text-anchor="middle" fill="#e74c3c" font-family="monospace" font-size="12" font-weight="bold">1.75</text>
    <text x="60" y="27" text-anchor="middle" fill="#3498db" font-family="monospace" font-size="12" font-weight="bold">2.5</text>
    <text x="20" y="67" text-anchor="middle" fill="#2ecc71" font-family="monospace" font-size="12" font-weight="bold">2.75</text>
    <text x="60" y="67" text-anchor="middle" fill="#f39c12" font-family="monospace" font-size="12" font-weight="bold">3.25</text>
  </g>

  <text x="600" y="275" text-anchor="middle" fill="#aaa" font-family="Arial, sans-serif" font-size="11">Takes average value from each region</text>

  <!-- Info box -->
  <rect x="100" y="300" width="600" height="65" fill="#2c3e50" rx="5" stroke="#34495e" stroke-width="1"/>
  <text x="400" y="325" text-anchor="middle" fill="#f39c12" font-family="Arial, sans-serif" font-size="13" font-weight="bold">Purpose of Pooling</text>
  <text x="400" y="350" text-anchor="middle" fill="#aaa" font-family="Arial, sans-serif" font-size="11">1. Reduce spatial dimensions (computational efficiency)  2. Provide translation invariance  3. Increase receptive field</text>
</svg>