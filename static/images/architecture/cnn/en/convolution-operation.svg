<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 400">
  <defs>
    <linearGradient id="inputGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#3498db;stop-opacity:0.3" />
      <stop offset="100%" style="stop-color:#2980b9;stop-opacity:0.3" />
    </linearGradient>
    <linearGradient id="filterGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#e74c3c;stop-opacity:0.8" />
      <stop offset="100%" style="stop-color:#c0392b;stop-opacity:0.8" />
    </linearGradient>
    <linearGradient id="outputGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#2ecc71;stop-opacity:0.5" />
      <stop offset="100%" style="stop-color:#27ae60;stop-opacity:0.5" />
    </linearGradient>
  </defs>

  <!-- Background -->
  <rect width="800" height="400" fill="#1a1a2e"/>

  <!-- Title -->
  <text x="400" y="30" text-anchor="middle" fill="#ffffff" font-family="Arial, sans-serif" font-size="18" font-weight="bold">Convolution Operation (3x3 Filter, Stride 1)</text>

  <!-- Input Matrix (5x5) -->
  <text x="120" y="60" text-anchor="middle" fill="#3498db" font-family="Arial, sans-serif" font-size="14" font-weight="bold">Input (5x5)</text>

  <!-- Input grid -->
  <g transform="translate(40, 75)">
    <!-- Background -->
    <rect x="0" y="0" width="160" height="160" fill="url(#inputGrad)" stroke="#3498db" stroke-width="2" rx="3"/>

    <!-- Grid lines -->
    <line x1="32" y1="0" x2="32" y2="160" stroke="#3498db" stroke-width="1"/>
    <line x1="64" y1="0" x2="64" y2="160" stroke="#3498db" stroke-width="1"/>
    <line x1="96" y1="0" x2="96" y2="160" stroke="#3498db" stroke-width="1"/>
    <line x1="128" y1="0" x2="128" y2="160" stroke="#3498db" stroke-width="1"/>
    <line x1="0" y1="32" x2="160" y2="32" stroke="#3498db" stroke-width="1"/>
    <line x1="0" y1="64" x2="160" y2="64" stroke="#3498db" stroke-width="1"/>
    <line x1="0" y1="96" x2="160" y2="96" stroke="#3498db" stroke-width="1"/>
    <line x1="0" y1="128" x2="160" y2="128" stroke="#3498db" stroke-width="1"/>

    <!-- Values -->
    <text x="16" y="22" text-anchor="middle" fill="#fff" font-family="monospace" font-size="12">1</text>
    <text x="48" y="22" text-anchor="middle" fill="#fff" font-family="monospace" font-size="12">2</text>
    <text x="80" y="22" text-anchor="middle" fill="#fff" font-family="monospace" font-size="12">3</text>
    <text x="112" y="22" text-anchor="middle" fill="#fff" font-family="monospace" font-size="12">0</text>
    <text x="144" y="22" text-anchor="middle" fill="#fff" font-family="monospace" font-size="12">1</text>

    <text x="16" y="54" text-anchor="middle" fill="#fff" font-family="monospace" font-size="12">0</text>
    <text x="48" y="54" text-anchor="middle" fill="#fff" font-family="monospace" font-size="12">1</text>
    <text x="80" y="54" text-anchor="middle" fill="#fff" font-family="monospace" font-size="12">2</text>
    <text x="112" y="54" text-anchor="middle" fill="#fff" font-family="monospace" font-size="12">3</text>
    <text x="144" y="54" text-anchor="middle" fill="#fff" font-family="monospace" font-size="12">1</text>

    <text x="16" y="86" text-anchor="middle" fill="#fff" font-family="monospace" font-size="12">1</text>
    <text x="48" y="86" text-anchor="middle" fill="#fff" font-family="monospace" font-size="12">2</text>
    <text x="80" y="86" text-anchor="middle" fill="#fff" font-family="monospace" font-size="12">1</text>
    <text x="112" y="86" text-anchor="middle" fill="#fff" font-family="monospace" font-size="12">0</text>
    <text x="144" y="86" text-anchor="middle" fill="#fff" font-family="monospace" font-size="12">2</text>

    <text x="16" y="118" text-anchor="middle" fill="#fff" font-family="monospace" font-size="12">2</text>
    <text x="48" y="118" text-anchor="middle" fill="#fff" font-family="monospace" font-size="12">1</text>
    <text x="80" y="118" text-anchor="middle" fill="#fff" font-family="monospace" font-size="12">0</text>
    <text x="112" y="118" text-anchor="middle" fill="#fff" font-family="monospace" font-size="12">1</text>
    <text x="144" y="118" text-anchor="middle" fill="#fff" font-family="monospace" font-size="12">1</text>

    <text x="16" y="150" text-anchor="middle" fill="#fff" font-family="monospace" font-size="12">1</text>
    <text x="48" y="150" text-anchor="middle" fill="#fff" font-family="monospace" font-size="12">0</text>
    <text x="80" y="150" text-anchor="middle" fill="#fff" font-family="monospace" font-size="12">3</text>
    <text x="112" y="150" text-anchor="middle" fill="#fff" font-family="monospace" font-size="12">2</text>
    <text x="144" y="150" text-anchor="middle" fill="#fff" font-family="monospace" font-size="12">1</text>

    <!-- Highlight current 3x3 region -->
    <rect x="0" y="0" width="96" height="96" fill="none" stroke="#e74c3c" stroke-width="3" rx="2"/>
  </g>

  <!-- Filter (3x3) -->
  <text x="320" y="60" text-anchor="middle" fill="#e74c3c" font-family="Arial, sans-serif" font-size="14" font-weight="bold">Filter (3x3)</text>

  <g transform="translate(250, 90)">
    <rect x="0" y="0" width="140" height="140" fill="url(#filterGrad)" stroke="#e74c3c" stroke-width="2" rx="3"/>

    <!-- Grid lines -->
    <line x1="46.67" y1="0" x2="46.67" y2="140" stroke="#c0392b" stroke-width="1"/>
    <line x1="93.33" y1="0" x2="93.33" y2="140" stroke="#c0392b" stroke-width="1"/>
    <line x1="0" y1="46.67" x2="140" y2="46.67" stroke="#c0392b" stroke-width="1"/>
    <line x1="0" y1="93.33" x2="140" y2="93.33" stroke="#c0392b" stroke-width="1"/>

    <!-- Values -->
    <text x="23" y="30" text-anchor="middle" fill="#fff" font-family="monospace" font-size="14" font-weight="bold">1</text>
    <text x="70" y="30" text-anchor="middle" fill="#fff" font-family="monospace" font-size="14" font-weight="bold">0</text>
    <text x="117" y="30" text-anchor="middle" fill="#fff" font-family="monospace" font-size="14" font-weight="bold">-1</text>

    <text x="23" y="77" text-anchor="middle" fill="#fff" font-family="monospace" font-size="14" font-weight="bold">1</text>
    <text x="70" y="77" text-anchor="middle" fill="#fff" font-family="monospace" font-size="14" font-weight="bold">0</text>
    <text x="117" y="77" text-anchor="middle" fill="#fff" font-family="monospace" font-size="14" font-weight="bold">-1</text>

    <text x="23" y="124" text-anchor="middle" fill="#fff" font-family="monospace" font-size="14" font-weight="bold">1</text>
    <text x="70" y="124" text-anchor="middle" fill="#fff" font-family="monospace" font-size="14" font-weight="bold">0</text>
    <text x="117" y="124" text-anchor="middle" fill="#fff" font-family="monospace" font-size="14" font-weight="bold">-1</text>
  </g>

  <text x="320" y="250" text-anchor="middle" fill="#aaa" font-family="Arial, sans-serif" font-size="11">(Vertical Edge Detector)</text>

  <!-- Multiplication symbol -->
  <text x="230" y="165" fill="#f39c12" font-family="Arial, sans-serif" font-size="24" font-weight="bold">*</text>

  <!-- Equals symbol -->
  <text x="410" y="165" fill="#f39c12" font-family="Arial, sans-serif" font-size="24" font-weight="bold">=</text>

  <!-- Output Matrix (3x3) -->
  <text x="550" y="60" text-anchor="middle" fill="#2ecc71" font-family="Arial, sans-serif" font-size="14" font-weight="bold">Output (3x3)</text>

  <g transform="translate(480, 90)">
    <rect x="0" y="0" width="140" height="140" fill="url(#outputGrad)" stroke="#2ecc71" stroke-width="2" rx="3"/>

    <!-- Grid lines -->
    <line x1="46.67" y1="0" x2="46.67" y2="140" stroke="#27ae60" stroke-width="1"/>
    <line x1="93.33" y1="0" x2="93.33" y2="140" stroke="#27ae60" stroke-width="1"/>
    <line x1="0" y1="46.67" x2="140" y2="46.67" stroke="#27ae60" stroke-width="1"/>
    <line x1="0" y1="93.33" x2="140" y2="93.33" stroke="#27ae60" stroke-width="1"/>

    <!-- Highlight first cell -->
    <rect x="0" y="0" width="46.67" height="46.67" fill="#2ecc71" fill-opacity="0.5" stroke="#2ecc71" stroke-width="2"/>

    <!-- Values -->
    <text x="23" y="30" text-anchor="middle" fill="#fff" font-family="monospace" font-size="14" font-weight="bold">-4</text>
    <text x="70" y="30" text-anchor="middle" fill="#fff" font-family="monospace" font-size="14">2</text>
    <text x="117" y="30" text-anchor="middle" fill="#fff" font-family="monospace" font-size="14">2</text>

    <text x="23" y="77" text-anchor="middle" fill="#fff" font-family="monospace" font-size="14">0</text>
    <text x="70" y="77" text-anchor="middle" fill="#fff" font-family="monospace" font-size="14">0</text>
    <text x="117" y="77" text-anchor="middle" fill="#fff" font-family="monospace" font-size="14">-1</text>

    <text x="23" y="124" text-anchor="middle" fill="#fff" font-family="monospace" font-size="14">0</text>
    <text x="70" y="124" text-anchor="middle" fill="#fff" font-family="monospace" font-size="14">0</text>
    <text x="117" y="124" text-anchor="middle" fill="#fff" font-family="monospace" font-size="14">0</text>
  </g>

  <!-- Calculation example -->
  <rect x="40" y="270" width="720" height="110" fill="#2c3e50" rx="5" stroke="#34495e" stroke-width="1"/>
  <text x="400" y="295" text-anchor="middle" fill="#f39c12" font-family="Arial, sans-serif" font-size="13" font-weight="bold">Calculation for highlighted cell:</text>
  <text x="400" y="320" text-anchor="middle" fill="#fff" font-family="monospace" font-size="12">(1×1) + (2×0) + (3×-1) + (0×1) + (1×0) + (2×-1) + (1×1) + (2×0) + (1×-1)</text>
  <text x="400" y="345" text-anchor="middle" fill="#fff" font-family="monospace" font-size="12">= 1 + 0 - 3 + 0 + 0 - 2 + 1 + 0 - 1 = <tspan fill="#2ecc71" font-weight="bold">-4</tspan></text>
  <text x="400" y="370" text-anchor="middle" fill="#888" font-family="Arial, sans-serif" font-size="11">Output size = (Input - Filter + 2×Padding) / Stride + 1 = (5 - 3 + 0) / 1 + 1 = 3</text>
</svg>