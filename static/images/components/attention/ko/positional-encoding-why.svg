<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 420" font-family="'Segoe UI', Arial, sans-serif">
  <rect width="800" height="420" fill="#1a1a2e"/>

  <text x="400" y="35" text-anchor="middle" fill="#e0e0e0" font-size="20" font-weight="bold">왜 위치 정보가 필요한가?</text>

  <defs>
    <marker id="pe-arrow" markerWidth="7" markerHeight="5" refX="7" refY="2.5" orient="auto">
      <path d="M0,0 L7,2.5 L0,5" fill="#888"/>
    </marker>
  </defs>

  <!-- Problem: Without Position -->
  <rect x="30" y="55" width="350" height="165" rx="10" fill="#3e1e1e" stroke="#ff6b6b" stroke-width="2"/>
  <text x="205" y="80" text-anchor="middle" fill="#ff6b6b" font-size="16" font-weight="bold">위치 정보 없는 Attention</text>

  <!-- Sentence 1 -->
  <rect x="55" y="95" width="60" height="28" rx="4" fill="#2d2d4e" stroke="#6c63ff" stroke-width="1"/>
  <text x="85" y="114" text-anchor="middle" fill="#e0e0e0" font-size="12">내가</text>
  <rect x="125" y="95" width="60" height="28" rx="4" fill="#2d2d4e" stroke="#6c63ff" stroke-width="1"/>
  <text x="155" y="114" text-anchor="middle" fill="#e0e0e0" font-size="12">너를</text>
  <rect x="195" y="95" width="80" height="28" rx="4" fill="#2d2d4e" stroke="#6c63ff" stroke-width="1"/>
  <text x="235" y="114" text-anchor="middle" fill="#e0e0e0" font-size="12">좋아한다</text>

  <!-- Sentence 2 -->
  <rect x="55" y="140" width="60" height="28" rx="4" fill="#2d2d4e" stroke="#6c63ff" stroke-width="1"/>
  <text x="85" y="159" text-anchor="middle" fill="#e0e0e0" font-size="12">너가</text>
  <rect x="125" y="140" width="60" height="28" rx="4" fill="#2d2d4e" stroke="#6c63ff" stroke-width="1"/>
  <text x="155" y="159" text-anchor="middle" fill="#e0e0e0" font-size="12">나를</text>
  <rect x="195" y="140" width="80" height="28" rx="4" fill="#2d2d4e" stroke="#6c63ff" stroke-width="1"/>
  <text x="235" y="159" text-anchor="middle" fill="#e0e0e0" font-size="12">좋아한다</text>

  <text x="320" y="130" text-anchor="middle" fill="#ff6b6b" font-size="28" font-weight="bold">=</text>
  <text x="205" y="205" text-anchor="middle" fill="#ff6b6b" font-size="13">Attention은 집합(set)처럼 처리</text>
  <text x="205" y="195" text-anchor="middle" fill="#ff6b6b" font-size="11">순서 무시 → 같은 결과!</text>

  <!-- Solution: With Position -->
  <rect x="420" y="55" width="350" height="165" rx="10" fill="#1e3a2e" stroke="#4ecca3" stroke-width="2"/>
  <text x="595" y="80" text-anchor="middle" fill="#4ecca3" font-size="16" font-weight="bold">위치 정보 있는 Attention</text>

  <!-- Sentence 1 with PE -->
  <rect x="445" y="95" width="80" height="28" rx="4" fill="#2d2d4e" stroke="#4ecca3" stroke-width="1"/>
  <text x="485" y="114" text-anchor="middle" fill="#e0e0e0" font-size="12">내가+PE1</text>
  <rect x="535" y="95" width="80" height="28" rx="4" fill="#2d2d4e" stroke="#4ecca3" stroke-width="1"/>
  <text x="575" y="114" text-anchor="middle" fill="#e0e0e0" font-size="12">너를+PE2</text>
  <rect x="625" y="95" width="110" height="28" rx="4" fill="#2d2d4e" stroke="#4ecca3" stroke-width="1"/>
  <text x="680" y="114" text-anchor="middle" fill="#e0e0e0" font-size="12">좋아한다+PE3</text>

  <!-- Sentence 2 with PE -->
  <rect x="445" y="140" width="80" height="28" rx="4" fill="#2d2d4e" stroke="#4ecca3" stroke-width="1"/>
  <text x="485" y="159" text-anchor="middle" fill="#e0e0e0" font-size="12">너가+PE1</text>
  <rect x="535" y="140" width="80" height="28" rx="4" fill="#2d2d4e" stroke="#4ecca3" stroke-width="1"/>
  <text x="575" y="159" text-anchor="middle" fill="#e0e0e0" font-size="12">나를+PE2</text>
  <rect x="625" y="140" width="110" height="28" rx="4" fill="#2d2d4e" stroke="#4ecca3" stroke-width="1"/>
  <text x="680" y="159" text-anchor="middle" fill="#e0e0e0" font-size="12">좋아한다+PE3</text>

  <text x="680" y="130" text-anchor="middle" fill="#4ecca3" font-size="28" font-weight="bold">!=</text>
  <text x="595" y="200" text-anchor="middle" fill="#4ecca3" font-size="13">위치마다 고유한 패턴 추가</text>
  <text x="595" y="215" text-anchor="middle" fill="#4ecca3" font-size="11">순서를 구분할 수 있다!</text>

  <!-- How it works -->
  <rect x="30" y="245" width="740" height="150" rx="10" fill="#1e1e36" stroke="#555" stroke-width="1"/>
  <text x="400" y="275" text-anchor="middle" fill="#ffd93d" font-size="16" font-weight="bold">Positional Encoding 동작 방식</text>

  <!-- Input embedding -->
  <rect x="60" y="300" width="130" height="35" rx="6" fill="#2d2d4e" stroke="#6c63ff" stroke-width="1.5"/>
  <text x="125" y="322" text-anchor="middle" fill="#6c63ff" font-size="13">단어 임베딩</text>
  <text x="125" y="345" text-anchor="middle" fill="#aaa" font-size="10">[0.2, -0.5, 0.8, ...]</text>

  <!-- Plus sign -->
  <text x="225" y="325" text-anchor="middle" fill="#ffd93d" font-size="24" font-weight="bold">+</text>

  <!-- Position encoding -->
  <rect x="260" y="300" width="130" height="35" rx="6" fill="#1e3a2e" stroke="#4ecca3" stroke-width="1.5"/>
  <text x="325" y="322" text-anchor="middle" fill="#4ecca3" font-size="13">위치 인코딩</text>
  <text x="325" y="345" text-anchor="middle" fill="#aaa" font-size="10">[sin, cos, sin, cos, ...]</text>

  <!-- Equals -->
  <text x="420" y="325" text-anchor="middle" fill="#ffd93d" font-size="24" font-weight="bold">=</text>

  <!-- Result -->
  <rect x="450" y="300" width="150" height="35" rx="6" fill="#2d2d4e" stroke="#ffd93d" stroke-width="1.5"/>
  <text x="525" y="322" text-anchor="middle" fill="#ffd93d" font-size="13">위치 정보 포함 입력</text>
  <text x="525" y="345" text-anchor="middle" fill="#aaa" font-size="10">[0.2+sin, -0.5+cos, ...]</text>

  <!-- Arrow to attention -->
  <line x1="600" y1="317" x2="640" y2="317" stroke="#888" stroke-width="1.5" marker-end="url(#pe-arrow)"/>

  <rect x="645" y="300" width="100" height="35" rx="6" fill="#2d2d4e" stroke="#ff9a56" stroke-width="1.5"/>
  <text x="695" y="322" text-anchor="middle" fill="#ff9a56" font-size="13">Attention</text>

  <!-- Key insight -->
  <text x="400" y="380" text-anchor="middle" fill="#aaa" font-size="12">핵심: 각 위치마다 고유한 sin/cos 패턴 → Attention이 "몇 번째인지" 알 수 있음</text>

  <!-- Bottom note -->
  <rect x="30" y="400" width="740" height="15" rx="4" fill="none"/>
  <text x="400" y="413" text-anchor="middle" fill="#666" font-size="10">CNN은 커널이 순서대로 슬라이딩하므로 위치 정보가 자연스럽게 포함됨. Attention은 집합 연산이라 별도 주입 필요.</text>
</svg>
